import{u as q,c as w,e as E,C as W,i as e,g as a,S as y,ae as D,af as M,t as m,F as G,h as H,j as J,l as o}from"./vendor-9d884d62.js";import{B as k}from"./Button-2f123a88.js";import{q as K,h as L,v as O}from"./index-8abaf42d.js";import{u as Q}from"./global-c5bd22bb.js";const V=o('<div class="flex-1"><h1 class="flex h-11 items-center pb-4 text-lg font-semibold">'),X=o('<div><div class="flex-1"><h1 class="pb-4 text-lg font-semibold">'),Y=o('<div class="badge badge-sm">'),Z=o('<div class="card card-bordered card-compact mb-2 bg-base-200 p-4"><div class="flex items-center gap-2"><span class="break-all"></span></div><div class="text-xs text-slate-500"> :: '),ee=o('<div class="card card-bordered card-compact mb-2 bg-base-200 p-4"><div class="flex items-center gap-2 pr-8"><span class="break-all"></span><div class="badge badge-sm"></div></div><div class="text-xs text-slate-500"> / <!> /<!> '),ne=()=>{const[g]=q(),{rules:b,rulesProviders:h,updateRules:I,updateAllRuleProvider:A,updateRuleProviderByName:U}=K(),[f,B]=w(100),x=E(()=>b().slice(0,f()));W(I);const{map:_,setWithCallback:P}=Q(),[$,v]=w(!1),z=(s,r)=>{s.stopPropagation(),P(r,()=>U(r))},F=async s=>{s.stopPropagation(),v(!0);try{await A()}catch{}v(!1)};return(()=>{const s=X(),r=s.firstChild,N=r.firstChild;return e(N,()=>g("rules")),e(r,a(D,{get each(){return x()},get hasMore(){return x().length<b().length},next:()=>B(f()+100),children:l=>(()=>{const i=Z(),t=i.firstChild,c=t.firstChild,n=t.nextSibling,p=n.firstChild;return e(c,()=>l.payload),e(t,a(y,{get when(){return typeof l.size=="number"&&l.size!==-1},get children(){const u=Y();return e(u,()=>l.size),u}}),null),e(n,()=>l.type,p),e(n,()=>l.proxy,null),i})()}),null),e(s,a(y,{get when(){return h().length>0},get children(){const l=V(),i=l.firstChild;return e(i,()=>g("ruleProviders"),null),e(i,a(k,{class:"btn-circle btn-ghost btn-sm ml-2",get disabled(){return $()},onClick:t=>F(t),get children(){return a(M,{get class(){return m($()&&"animate-spin text-success")}})}}),null),e(l,a(G,{get each(){return h()},children:t=>(()=>{const c=ee(),n=c.firstChild,p=n.firstChild,u=p.nextSibling,d=n.nextSibling,C=d.firstChild,R=C.nextSibling,T=R.nextSibling,S=T.nextSibling;return S.nextSibling,e(p,()=>t.name),e(u,()=>t.ruleCount),e(d,()=>t.vehicleType,C),e(d,()=>t.behavior,R),e(d,()=>g("updated"),S),e(d,()=>L(t.updatedAt),null),e(c,a(k,{class:"btn-circle btn-sm absolute right-2 top-2 mr-2 h-4",get disabled(){return _()[t.name]},onClick:j=>z(j,t.name),get children(){return a(M,{get class(){return m(_()[t.name]&&"animate-spin text-success")}})}}),null),c})()}),null),l}}),null),H(()=>J(s,m("flex w-full flex-col gap-4",O()&&"flex-row"))),s})()};export{ne as default};
